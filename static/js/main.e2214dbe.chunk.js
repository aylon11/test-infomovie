(this["webpackJsonpomdb-movies"]=this["webpackJsonpomdb-movies"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(21),s=n.n(c),o=(n(29),n(12)),r=n(2),l=n(4),d=n.p+"static/media/informovie-white.a8525082.png",j=n.p+"static/media/loginPageImage.8991af8c.jpg",u=(n(30),n(0)),b=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],i=t[1],c=Object(r.f)();return Object(a.useEffect)((function(){var e;(null===(e=window.sessionStorage.getItem("username"))||void 0===e?void 0:e.length)&&c.push("/search")}),[n]),Object(u.jsx)("div",{className:"loginPage",children:Object(u.jsxs)("div",{className:"loginPageContainer",children:[Object(u.jsxs)("div",{className:"contentCotainer",children:[Object(u.jsx)("div",{className:"navBar",children:Object(u.jsx)("img",{alt:"Logo",src:d})}),Object(u.jsxs)("div",{className:"welcomeSection",children:[Object(u.jsxs)("div",{className:"textConteiner",children:[Object(u.jsx)("h1",{children:"Welcome"}),Object(u.jsx)("p",{children:"Get information about films, cast, taglines, plots, crew, reviews, ratings and much more. Join Millions of users and get access to over 20,000+ APIs."}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(e.target.username.value),window.sessionStorage.setItem("username",e.target.username.value),window.sessionStorage.setItem("favArray",JSON.stringify([]))},children:[Object(u.jsx)("input",{tabIndex:-1,className:"loginInput",type:"text",name:"username",required:!0,placeholder:"Enter your name"}),Object(u.jsx)("button",{tabIndex:-1,className:"loginButton",type:"submit",children:"Login"})]})]}),Object(u.jsx)("img",{className:"imgConteiner",alt:"films",src:j})]})]}),Object(u.jsx)("svg",{className:"wave",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",children:Object(u.jsx)("path",{fill:"#282E3A","fill-opacity":"1",d:"M0,64L80,101.3C160,139,320,213,480,234.7C640,256,800,224,960,213.3C1120,203,1280,213,1360,218.7L1440,224L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z"})})]})})},m=function(e){return fetch("https://www.omdbapi.com/?i=".concat(e,"&apikey=a4a8a1ee"),{method:"GET",redirect:"follow"}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log("error",e)}))},v=n(23),h=n(11),f=n.n(h),O=n(18),x=n(24),g=(n(39),function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),i=n[0],c=n[1],s=[];return Object(a.useEffect)((function(){var t,n;(null===(n=s=JSON.parse(null!==(t=window.sessionStorage.getItem("favArray"))&&void 0!==t?t:""))||void 0===n?void 0:n.includes(e.imdbID))&&c(!0)})),Object(u.jsx)("button",{className:"favBtn",tabIndex:-1,onClick:function(){return function(){var t,n,a=[];a=(null===(n=s=JSON.parse(null!==(t=window.sessionStorage.getItem("favArray"))&&void 0!==t?t:""))||void 0===n?void 0:n.includes(e.imdbID))?s.filter((function(t){return t!==e.imdbID})):[].concat(Object(x.a)(s),[e.imdbID]),c(!i),window.sessionStorage.setItem("favArray",JSON.stringify(a))}()},children:i?Object(u.jsx)("i",{className:"fas fa-heart fa-lg"}):Object(u.jsx)("i",{className:"far fa-heart fa-lg"})})}),p=(n(40),function(e){var t=Object(a.useState)(!0),n=Object(l.a)(t,2),i=n[0],c=n[1];return Object(u.jsx)("div",{className:"modal fade",id:e.id,role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",role:"document",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsx)("button",{tabIndex:-1,className:"closeBtn",type:"button","data-dismiss":"modal","aria-label":"Close",children:Object(u.jsx)("i",{className:"fas fa-times fa-2x"})}),Object(u.jsx)("div",{className:"modal-body",children:e.movieDetails?function(){var t,n,a,s,o,r,l,d,j,b,m;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:null===(t=e.movieDetails)||void 0===t?void 0:t.Poster,alt:"moviePoster"}),Object(u.jsxs)("div",{className:"movieDetaildHeader",children:[Object(u.jsx)("h1",{children:null===(n=e.movieDetails)||void 0===n?void 0:n.Title}),Object(u.jsxs)("div",{className:"movieDetails",children:[Object(u.jsxs)("div",{children:["Type: ",null===(a=e.movieDetails)||void 0===a?void 0:a.Type]}),Object(u.jsxs)("div",{children:["Release year:",null===(s=e.movieDetails)||void 0===s?void 0:s.Year]}),(null===(o=e.movieDetails)||void 0===o?void 0:o.Ratings)&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{children:["Rated ",null===(r=e.movieDetails)||void 0===r||null===(l=r.Ratings[1])||void 0===l?void 0:l.Value," by"," ",null===(d=e.movieDetails)||void 0===d||null===(j=d.Ratings[1])||void 0===j?void 0:j.Source]})}),Object(u.jsxs)("div",{children:["Running time: ",null===(b=e.movieDetails)||void 0===b?void 0:b.Runtime]})]}),Object(u.jsxs)("div",{className:"movieDescContainer",children:[Object(u.jsx)("p",{className:"movieDesc ".concat(i&&"moreContent"),children:null===(m=e.movieDetails)||void 0===m?void 0:m.Plot}),Object(u.jsx)("button",{tabIndex:-1,className:"showMore ".concat(i&&"show"),onClick:function(){return c(!1)},children:"Show More"}),Object(u.jsx)("button",{tabIndex:-1,className:"showLess ".concat(!i&&"show"),onClick:function(){return c(!0)},children:"Show Less"})]})]})]})}():function(){var t;return Object(u.jsxs)("div",{className:"favList",children:[Object(u.jsx)("h1",{children:"Favorites List"}),Object(u.jsx)("div",{className:"favMovieContainer",children:null===(t=e.moviesList)||void 0===t?void 0:t.map((function(e){return Object(u.jsxs)("div",{className:"favMovie",children:[Object(u.jsx)("div",{className:"imgContainer",style:{background:"url(".concat(e.Poster,") center"),backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),Object(u.jsxs)("div",{className:"favMovieDetails",children:[Object(u.jsx)("h2",{children:e.Title}),Object(u.jsx)(g,{imdbID:e.imdbID})]})]})}))})]})}()})]})})})}),N=(n(41),function(){var e=Object(r.f)(),t=window.sessionStorage.getItem("username"),n=Object(a.useState)([]),i=Object(l.a)(n,2),c=i[0],s=i[1];function o(){window.sessionStorage.setItem("username",""),e.push("/")}function j(){return b.apply(this,arguments)}function b(){return(b=Object(O.a)(f.a.mark((function e(){var t,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=JSON.parse(null!==(t=window.sessionStorage.getItem("favArray"))&&void 0!==t?t:""),e.next=4,Promise.all(null===a||void 0===a?void 0:a.map(function(){var e=Object(O.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:a=e.sent,null===n||void 0===n||n.push(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:s(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("img",{className:"logo",alt:"Logo",src:d}),Object(u.jsxs)("div",{className:"actions",children:[Object(u.jsx)("button",{tabIndex:-1,onClick:function(){return o()},children:"Logout"}),Object(u.jsx)("i",{className:"fas fa-sign-out-alt fa-lg",onClick:function(){return o()}}),Object(u.jsx)("button",{tabIndex:-1,type:"button","data-toggle":"modal","data-target":"#favModal",onClick:function(){return j()},children:"Favorites"}),Object(u.jsx)("i",{"data-toggle":"modal","data-target":"#favModal",className:"fas fa-heart fa-lg",onClick:function(){return j()}}),Object(u.jsxs)("span",{children:["Hello ",Object(u.jsx)("b",{children:t})]})]}),Object(u.jsx)(p,{moviesList:c,id:"favModal"})]})}),w=(n(42),function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),i=n[0],c=n[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"movieCard",style:{background:"url(".concat(e.movieCard.Poster,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:Object(u.jsxs)("div",{className:"movieCardContainer",children:[Object(u.jsxs)("div",{className:"cardHeader",children:[Object(u.jsx)("div",{className:"year",children:e.movieCard.Year}),Object(u.jsx)(g,{imdbID:e.movieCard.imdbID})]}),Object(u.jsxs)("div",{className:"cardBody",children:[Object(u.jsx)("h3",{children:e.movieCard.Title}),Object(u.jsx)("span",{children:e.movieCard.Type})]}),Object(u.jsx)("div",{className:"cardFooter",children:Object(u.jsxs)("button",{tabIndex:-1,type:"button","data-toggle":"modal","data-target":"#".concat(e.movieCard.imdbID),onClick:function(t){return m(e.movieCard.imdbID).then((function(e){return c(e)}))},children:[Object(u.jsx)("span",{children:"For more information"}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"Click here"})]})})]})}),Object(u.jsx)(p,{movieDetails:i,id:e.movieCard.imdbID})]})}),C=(n(43),function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)([]),s=Object(l.a)(c,2),o=s[0],r=s[1],d=Object(a.useState)(!0),j=Object(l.a)(d,2),b=j[0],m=j[1];return Object(a.useEffect)((function(){n.length&&function(e){return fetch("https://www.omdbapi.com/?apikey=a4a8a1ee&s=".concat(e),{method:"GET",redirect:"follow"}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log("error",e)}))}(n).then((function(e){return r(e.Search)}))}),[n]),Object(u.jsxs)("div",{className:"sarchPage",children:[Object(u.jsx)(N,{}),Object(u.jsx)("div",{className:"searchBoxContainer ".concat(b&&"center"),children:Object(u.jsx)(v.DebounceInput,{placeholder:"Search for movie",className:"searchBox",debounceTimeout:300,onChange:function(e){e.preventDefault(),i(e.target.value),""!==e.target.value?m(!1):m(!0)}})}),Object(u.jsx)("div",{className:"cardsContainer ".concat(b&&"hidden"),children:!!(null===o||void 0===o?void 0:o.length)&&n.length>0&&o.map((function(e,t){return Object(u.jsx)(w,{movieCard:e},e.imdbID)}))})]})}),I=function(){return Object(u.jsx)(o.a,{children:Object(u.jsxs)(r.c,{children:[Object(u.jsx)(r.a,{path:"/test-infomovie",exact:!0,children:Object(u.jsx)(b,{})}),Object(u.jsx)(r.a,{path:"/search",exact:!0,children:Object(u.jsx)(C,{})})]})})},S=(n(44),function(){return Object(u.jsx)(I,{})}),D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),c(e),s(e)}))};s.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(S,{})}),document.getElementById("root")),D()}},[[45,1,2]]]);
//# sourceMappingURL=main.e2214dbe.chunk.js.map